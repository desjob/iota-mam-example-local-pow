{"version":3,"sources":["../node_modules/iota.lib.js/lib/utils sync","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","curl","curlTransaction","curlImpl","localAttachToTangle","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","trunkTransaction","branchTransaction","minWeightMagnitude","trytesArray","trytes","wrap","_context","prev","next","then","processedTrytes","catch","error","sent","abrupt","stop","_x","_x2","_x3","_x4","apply","this","arguments","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","status","status2","root","message","_this2","setState","mamConfig","provider","attachToTangle","mamState","Mam","Converter","payload","address","res","messageIsPublished","err","console","log","bundle","JSON","stringify","_this3","messages","react_default","createElement","type","onChange","setMessage","bind","value","onClick","publishMamMessage","setRoot","receiveMessage","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.858f86e9.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 259;","import React from 'react';\nimport './App.css';\n\nimport * as Converter from '@iota/converter';\nimport * as Mam from '@iota/mam';\nimport curlTransaction from 'curl-transaction-core';\nimport curlImpl from 'curl-transaction-webgl2-impl';\n\n\n\nconst curl = curlTransaction({ curlImpl });\nconst localAttachToTangle = async function(trunkTransaction, branchTransaction, minWeightMagnitude, trytesArray) {\n\n    var trytes = await curl.curl({ trunkTransaction, branchTransaction, minWeightMagnitude, trytesArray }).then((processedTrytes) => {\n        return processedTrytes\n    }).catch((error) => {\n        throw error;\n    });\n\n    return trytes;\n};\n\n\nclass App extends React.Component {\n\n    constructor() {\n\n        super();\n\n        this.state = {\n            status: 'ready',\n            status2: 'ready',\n            root: '',\n            message: 'test 1234'\n        }\n    }\n\n\n    publishMamMessage() {\n\n        this.setState({status: 'working'});\n\n        const mamConfig = {\n            provider: \"https://nodes.devnet.iota.org:443\",\n            attachToTangle: localAttachToTangle\n        };\n\n        const mamState = Mam.init(mamConfig);\n        const message = Mam.create(mamState, Converter.asciiToTrytes(this.state.message));\n\n        Mam.attach(message.payload, message.address, 3, 9)\n            .then(res => this.messageIsPublished(res, message))\n            .catch(err => console.log(err));\n\n    }\n\n    messageIsPublished(bundle, message) {\n\n        this.setState({status: JSON.stringify(bundle), root: message.root});\n    }\n\n    receiveMessage() {\n\n        this.setState({status2: 'working'});\n\n        const mamConfig = {\n            provider: \"https://nodes.devnet.iota.org:443\",\n            attachToTangle: localAttachToTangle\n        };\n\n        const mamState = Mam.init(mamConfig);\n\n        Mam.fetch(this.state.root, 'public')\n            .then(res => this.setState({status2: 'recieved: ' + Converter.trytesToAscii(res.messages[0])}))\n            .catch(err => console.log(err));\n\n    }\n\n    setRoot(root) {\n\n        this.setState({root: root});\n    }\n\n    setMessage(message) {\n\n        this.setState({message: message});\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>IOTA Masked Authenticated Messaging example (using local WebGL PoW)</h1>\n                <input type=\"text\" onChange={this.setMessage.bind(this)} value={this.state.message}/>\n                <button onClick={this.publishMamMessage.bind(this)}>Publish!</button>\n                <p>status: <br/>{this.state.status}</p>\n\n                <hr/>\n                <input type=\"text\" onChange={this.setRoot.bind(this)} value={this.state.root}/>\n                <button onClick={this.receiveMessage.bind(this)}>Receive!</button>\n                <p>status: <br/>{this.state.status2}</p>\n            </div>\n        );\n\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}