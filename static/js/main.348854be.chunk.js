(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports=n(315)},141:function(e,t,n){},143:function(e,t,n){},153:function(e,t){},155:function(e,t){},187:function(e,t){},188:function(e,t){},259:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=259},315:function(e,t,n){"use strict";n.r(t);var s=n(8),a=n.n(s),r=n(127),o=n.n(r),i=(n(141),n(128)),u=n(129),c=n(134),l=n(130),h=n(135),f=n(25),g=n.n(f),v=n(131),d=(n(143),n(53)),p=n(26),m=n(132),b=n.n(m),y=n(133),k=n.n(y),E=b()({curlImpl:k.a}),w=function(){var e=Object(v.a)(g.a.mark(function e(t,n,s,a){var r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.curl({trunkTransaction:t,branchTransaction:n,minWeightMagnitude:s,trytesArray:a}).then(function(e){return e}).catch(function(e){throw e});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(t,n,s,a){return e.apply(this,arguments)}}(),M=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).call(this))).state={status:"ready",status2:"ready",root:"",message:"test 1234"},e}return Object(h.a)(t,e),Object(u.a)(t,[{key:"publishMamMessage",value:function(){var e=this;this.setState({status:"working"});var t={provider:"https://nodes.devnet.iota.org:443",attachToTangle:w},n=p.init(t),s=p.create(n,d.asciiToTrytes(this.state.message));p.attach(s.payload,s.address,3,9).then(function(t){return e.messageIsPublished(t,s)}).catch(function(t){return e.onPublishError(t)})}},{key:"messageIsPublished",value:function(e,t){this.setState({status:JSON.stringify(e),root:t.root})}},{key:"receiveMessage",value:function(){var e=this;this.setState({status2:"working"});var t={provider:"https://nodes.devnet.iota.org:443",attachToTangle:w};p.init(t);p.fetch(this.state.root,"public").then(function(t){"undefined"!==typeof t.messages?e.setState({status2:"recieved: "+d.trytesToAscii(t.messages[0])}):e.onReceiveError("no valid response")}).catch(function(t){return e.onReceiveError(t)})}},{key:"onReceiveError",value:function(e){this.setState({status2:"error while receiving, see console for details"}),console.log(e)}},{key:"onPublishError",value:function(e){this.setState({status:"error while publishing, see console for details"}),console.log(e)}},{key:"setRoot",value:function(e){this.setState({root:e})}},{key:"onRootChange",value:function(e){this.setRoot(e.target.value)}},{key:"setMessage",value:function(e){this.setState({message:e})}},{key:"onMessageChange",value:function(e){this.setMessage(e.target.value)}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"IOTA Masked Authenticated Messaging example (using local WebGL PoW)"),a.a.createElement("input",{type:"text",onChange:this.onMessageChange.bind(this),value:this.state.message}),a.a.createElement("button",{onClick:this.publishMamMessage.bind(this)},"Publish!"),a.a.createElement("p",null,"status: ",a.a.createElement("br",null),this.state.status),a.a.createElement("hr",null),a.a.createElement("input",{type:"text",onChange:this.onRootChange.bind(this),value:this.state.root}),a.a.createElement("button",{onClick:this.receiveMessage.bind(this)},"Receive!"),a.a.createElement("p",null,"status: ",a.a.createElement("br",null),this.state.status2))}}]),t}(a.a.Component);o.a.render(a.a.createElement(M,null),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.348854be.chunk.js.map