{"version":3,"sources":["../node_modules/iota.lib.js/lib/utils sync","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","curl","curlTransaction","curlImpl","localAttachToTangle","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","trunkTransaction","branchTransaction","minWeightMagnitude","trytesArray","trytes","wrap","_context","prev","next","then","processedTrytes","catch","error","sent","abrupt","stop","_x","_x2","_x3","_x4","apply","this","arguments","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","status","status2","root","message","_this2","setState","mamConfig","provider","attachToTangle","mamState","Mam","Converter","payload","address","res","messageIsPublished","err","onPublishError","bundle","JSON","stringify","_this3","messages","onReceiveError","console","log","event","setRoot","target","value","setMessage","react_default","createElement","type","onChange","onMessageChange","bind","onClick","publishMamMessage","onRootChange","receiveMessage","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.348854be.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 259;","import React from 'react';\nimport './App.css';\nimport * as Converter from '@iota/converter';\nimport * as Mam from '@iota/mam';\nimport curlTransaction from 'curl-transaction-core';\nimport curlImpl from 'curl-transaction-webgl2-impl';\n\nconst curl = curlTransaction({ curlImpl });\nconst localAttachToTangle = async function(trunkTransaction, branchTransaction, minWeightMagnitude, trytesArray) {\n\n    var trytes = await curl.curl({ trunkTransaction, branchTransaction, minWeightMagnitude, trytesArray }).then((processedTrytes) => {\n        return processedTrytes\n    }).catch((error) => {\n        throw error;\n    });\n\n    return trytes;\n};\n\nclass App extends React.Component {\n\n    constructor() {\n\n        super();\n\n        this.state = {\n            status: 'ready',\n            status2: 'ready',\n            root: '',\n            message: 'test 1234'\n        }\n    }\n\n\n    publishMamMessage() {\n\n        this.setState({status: 'working'});\n\n        const mamConfig = {\n            provider: \"https://nodes.devnet.iota.org:443\",\n            attachToTangle: localAttachToTangle\n        };\n\n        const mamState = Mam.init(mamConfig);\n        const message = Mam.create(mamState, Converter.asciiToTrytes(this.state.message));\n\n        Mam.attach(message.payload, message.address, 3, 9)\n            .then(res => this.messageIsPublished(res, message))\n            .catch(err => this.onPublishError(err));\n\n    }\n\n    messageIsPublished(bundle, message) {\n\n        this.setState({status: JSON.stringify(bundle), root: message.root});\n    }\n\n    receiveMessage() {\n\n        this.setState({status2: 'working'});\n\n        const mamConfig = {\n            provider: \"https://nodes.devnet.iota.org:443\",\n            attachToTangle: localAttachToTangle\n        };\n\n        const mamState = Mam.init(mamConfig);\n\n        Mam.fetch(this.state.root, 'public')\n            .then(res => {\n                if(typeof res.messages !== 'undefined') {\n                    this.setState({status2: 'recieved: ' + Converter.trytesToAscii(res.messages[0])})\n                } else {\n                    this.onReceiveError(\"no valid response\");\n                }\n\n            })\n            .catch(err => this.onReceiveError(err));\n\n    }\n\n    onReceiveError(error) {\n        this.setState({status2: 'error while receiving, see console for details'});\n\n        console.log(error);\n    }\n\n    onPublishError(error) {\n        this.setState({status: 'error while publishing, see console for details'});\n\n        console.log(error);\n    }\n\n    setRoot(root) {\n        this.setState({root: root});\n    }\n\n    onRootChange(event) {\n        this.setRoot(event.target.value);\n    }\n\n    setMessage(message) {\n        this.setState({message: message});\n    }\n\n    onMessageChange(event) {\n        this.setMessage(event.target.value);\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>IOTA Masked Authenticated Messaging example (using local WebGL PoW)</h1>\n                <input type=\"text\" onChange={this.onMessageChange.bind(this)} value={this.state.message}/>\n                <button onClick={this.publishMamMessage.bind(this)}>Publish!</button>\n                <p>status: <br/>{this.state.status}</p>\n\n                <hr/>\n                <input type=\"text\" onChange={this.onRootChange.bind(this)} value={this.state.root}/>\n                <button onClick={this.receiveMessage.bind(this)}>Receive!</button>\n                <p>status: <br/>{this.state.status2}</p>\n            </div>\n        );\n\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}